## 浏览器渲染过程与性能优化



### 1.浏览器进程组成

现代浏览器都是多进程的，

每新增一个tab，就会创建一个进程；

每个进程又有多个线程进行协作；



<img src="https://ipic-coda.oss-cn-beijing.aliyuncs.com/2020-01-10-135142.png" alt="16f7ee19a85b3c8f" style="zoom:50%;" />



参考文章：https://juejin.im/post/5e143104e51d45414a4715f7?utm_source=gold_browser_extension#heading-32



### 2.浏览器渲染流程

<img src="https://ipic-coda.oss-cn-beijing.aliyuncs.com/2020-01-10-231904.png" alt="16f7ee2d9a5667b3" style="zoom:67%;" />

parser解析：html解析器和css解析器并行，生成dom树和style树；

dom树结合style树生成 Render树

layout：布局器负责根据Render树去计算元素位置以及大小；

paint：绘制器根据Render树绘制页面的像素信息；

display: 最后浏览器主进程将绘制的图层交给GPU进程去渲染，GPU进程将各个图层合并（composite），最后显示页面；

引申问题：[css为什么要放在js前面去加载？](./面试题总结#为什么要把css放在head里，而js放到body后去？)





## 浏览器加载的步骤

1. 解析HTML结构。
2. 加载外部脚本和样式表文件。
3. 解析并执行脚本代码。
4. DOM树构建完成。//DOMContentLoaded
5. 加载图片等外部文件。
6. 页面加载完毕。//load

