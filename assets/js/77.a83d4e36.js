(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{434:function(t,s,n){"use strict";n.r(s);var a=n(25),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"gradle"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gradle"}},[t._v("#")]),t._v(" Gradle")]),t._v(" "),n("h2",{attrs:{id:"安装gradle"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装gradle"}},[t._v("#")]),t._v(" 安装Gradle")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("localhost:bhex-broker-app-android koda$ gradle -v\n\n------------------------------------------------------------\nGradle "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.10")]),t._v(".2\n------------------------------------------------------------\n\nBuild time:   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-09-19 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":10:15 UTC\nRevision:     b4d8d5d170bb4ba516e88d7fe5647e2323d791dd\n\nKotlin DSL:   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),t._v("-rc-6\nKotlin:       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),t._v(".61\nGroovy:       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.4")]),t._v(".15\nAnt:          Apache Ant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TM"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" version "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.9")]),t._v(".11 compiled on March "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("\nJVM:          "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.8")]),t._v(".0_171 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Oracle Corporation "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("25.171")]),t._v("-b11"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nOS:           Mac OS X "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.14")]),t._v(".5 x86_64\n")])])]),n("h2",{attrs:{id:"groovy"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#groovy"}},[t._v("#")]),t._v(" Groovy")]),t._v(" "),n("p",[t._v("Groovy基于java,并且拓展了java，了解Groovy语言是掌握Gradle的基础。")]),t._v(" "),n("h2",{attrs:{id:"dsl"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dsl"}},[t._v("#")]),t._v(" DSL")]),t._v(" "),n("h2",{attrs:{id:"gradle牛刀小试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gradle牛刀小试"}},[t._v("#")]),t._v(" Gradle牛刀小试")]),t._v(" "),n("h3",{attrs:{id:"构建sprint-boot的引用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#构建sprint-boot的引用"}},[t._v("#")]),t._v(" 构建sprint boot的引用")]),t._v(" "),n("div",{staticClass:"language-groovy extra-class"},[n("pre",{pre:!0,attrs:{class:"language-groovy"}},[n("code",[t._v("plugins "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'java'")]),t._v("\n    id "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.gradle.build-scan'")]),t._v(" version "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2.0.2'")]),t._v("\n    id "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.boot'")]),t._v(" version "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2.0.5.RELEASE'")]),t._v("\n    id "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'io.spring.dependency-management'")]),t._v(" version "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.0.7.RELEASE'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nrepositories "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 本地仓库")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mavenLocal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("jcenter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ndependencies "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//spring boot")]),t._v("\n    implementation "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.boot:spring-boot-dependencies:2.0.5.RELEASE'")]),t._v("\n    implementation "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.boot:spring-boot-starter-web'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 单元测试")]),t._v("\n    testImplementation "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.boot:spring-boot-starter-test'")]),t._v("\n    components "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("withModule")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework:spring-beans'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            allVariants "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                withDependencyConstraints "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    it"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("findAll"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" it"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'snakeyaml'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("each "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        it"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("version "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                            strictly "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.19'")]),t._v("\n                        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置启动类")]),t._v("\nbootJar "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    mainClassName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'demo.App'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用来向外发布依赖项")]),t._v("\nbuildScan "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\ttermsOfServiceUrl "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://gradle.com/terms-of-service'")]),t._v("\n  termsOfServiceAgree "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yes'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("publishAlways")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://gradle.com/s/t2f34h3cwseza")]),t._v("\n")])])]),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("./gradlew bootRun "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#直接启动应用")]),t._v("\n\n./gradlew bootJar "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#打包应用jar到build/libs下面")]),t._v("\njava -jar build/libs/xxx.jar  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#再通过java -jar来执行")]),t._v("\n")])])]),n("p",[t._v("Gradle示例")]),t._v(" "),n("div",{staticClass:"language-groovy extra-class"},[n("pre",{pre:!0,attrs:{class:"language-groovy"}},[n("code",[t._v("buildscript "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//运行首先执行这段代码")]),t._v("\n    ext "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用于定义动态属性")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//sringBootVersion 变量的定义")]),t._v("\n        springBootVersion "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2.0.0.RELEASE'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    repositories "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//mavenCentral() //官方的中央仓库")]),t._v("\n        maven "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//自定义中央仓库 下面是引用阿里的maven中央仓库")]),t._v("\n            url "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://maven.aliyun.com/nexus/content/groups/public'")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    dependencies "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//依赖，下面是依赖springboot的一个插件")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//${springBootVersion} 就是引用上面动态属性的变量")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("classpath")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"org.springframework.boot:spring-boot-gradle-plugin:'),n("span",{pre:!0,attrs:{class:"token expression"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("springBootVersion"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//使用了的插件")]),t._v("\napply plugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'java'")]),t._v("\napply plugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eclipse'")]),t._v("\napply plugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.boot'")]),t._v("\napply plugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'io.spring.dependency-management'")]),t._v("\n\ngroup "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.youngman'")]),t._v("\nversion "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.0.1-SNAPSHOT'")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//项目的版本号,用户可以自定义")]),t._v("\nsourceCompatibility "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.8")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//JDK的版本")]),t._v("\n\nrepositories "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//mavenCentral()")]),t._v("\n    maven "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        url "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://maven.aliyun.com/nexus/content/groups/public'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//依赖")]),t._v("\ndependencies "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.boot:spring-boot-starter-data-jpa'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.boot:spring-boot-starter-security'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.boot:spring-boot-starter-web'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("testCompile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.boot:spring-boot-starter-test'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("testCompile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.security:spring-security-test'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ngradlew"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gradlew环境的脚本，我们执行就会完成环境一个搭建\nbuild"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gradlew 项目构建之后自动生成的一个目录\ngradle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 里面有个子目录 wrapper项目成员没有安装gradle就会自动安装gradle，好处就是统一gradle的版本\nsrc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 项目源码，包含程序源码和测试源码\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("idea"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 存放项目的配置信息。这个文件夹是自动生成，版本控制信息等，包括历史记录\nsettings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gradle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 针对module的全局配置，它的作用域所包含的所有module是通过settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gradle来配置\n\n")])])]),n("h1",{attrs:{id:"安卓构建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安卓构建"}},[t._v("#")]),t._v(" 安卓构建")]),t._v(" "),n("h2",{attrs:{id:"构建类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#构建类型"}},[t._v("#")]),t._v(" 构建类型")]),t._v(" "),n("p",[t._v("构建类型一般分为"),n("code",[t._v("测试构建")]),t._v("和"),n("code",[t._v("发布构建")]),t._v("两种模式。不同的构建模式会用不同的"),n("code",[t._v("签署密钥")]),t._v("。必须至少定义一个构建类型，才能够构建应用。")]),t._v(" "),n("h2",{attrs:{id:"build配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#build配置文件"}},[t._v("#")]),t._v(" Build配置文件")])])}),[],!1,null,null,null);s.default=r.exports}}]);