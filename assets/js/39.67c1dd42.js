(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{399:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"nuxt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nuxt"}},[t._v("#")]),t._v(" Nuxt")]),t._v(" "),a("p",[t._v("学会服务端渲染的使用、部署流程。")]),t._v(" "),a("p",[t._v("2种部署方式：1种静态部署、1种server部署")]),t._v(" "),a("h2",{attrs:{id:"nuxt命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nuxt命令"}},[t._v("#")]),t._v(" nuxt命令")]),t._v(" "),a("p",[t._v("nuxt自带4个命令：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"scripts": {\n    "dev": "nuxt",\n    "build": "nuxt build",\n    "start": "nuxt start",\n    "generate": "nuxt generate"\n  },\n')])])]),a("p",[a("code",[t._v("nuxt")]),t._v("主要是用来开启一个开发环境")]),t._v(" "),a("p",[a("code",[t._v("nuxt build")]),t._v("用来打包生产环境需要的文件，配合"),a("code",[t._v("nuxt start")]),t._v("来开启一个服务端渲染的server。")]),t._v(" "),a("p",[t._v("如果是部署服务器，build之后需要把一些文件拷贝到服务器上去才能运行start，这个后面会讲到。")]),t._v(" "),a("p",[a("code",[t._v("nuxt generate")]),t._v("会生成一个可以直接部署使用的静态的资源，它是不涉及服务端渲染的。需要配合nginx服务器来部署")]),t._v(" "),a("p",[t._v("可以理解为"),a("code",[t._v("nuxt generate")]),t._v("只是利用webpack打包生成了静态文件。")]),t._v(" "),a("h2",{attrs:{id:"nuxt部署生产环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nuxt部署生产环境"}},[t._v("#")]),t._v(" Nuxt部署生产环境")]),t._v(" "),a("p",[t._v("1."),a("code",[t._v("npm run build => nuxt build")]),t._v(" 生成文件")]),t._v(" "),a("p",[t._v("2.在服务器上传"),a("code",[t._v(".nuxt")]),t._v(", "),a("code",[t._v("express")]),t._v(","),a("code",[t._v("static")]),t._v(","),a("code",[t._v("nuxt.config.js")]),t._v(","),a("code",[t._v("package.json")]),t._v("文件，"),a("code",[t._v(".nuxt")]),t._v("里包含了执行所需要的文件")]),t._v(" "),a("p",[t._v("3.在服务器执行"),a("code",[t._v("npm install && npm run start")]),t._v("启动一个服务，访问程序，看看是否有问题。")]),t._v(" "),a("p",[t._v("4.利用pm2来跑后台守护进程")]),t._v(" "),a("h2",{attrs:{id:"nuxt里使用window"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nuxt里使用window"}},[t._v("#")]),t._v(" Nuxt里使用window")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("if (process.client) {\n}\n")])])]),a("h2",{attrs:{id:"nuxt的生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nuxt的生命周期"}},[t._v("#")]),t._v(" Nuxt的生命周期")]),t._v(" "),a("p",[t._v("让我们看官方给出的"),a("code",[t._v("Nuxt")]),t._v("执行生命周期流程")]),t._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://ipic-coda.oss-cn-beijing.aliyuncs.com/2020-10-30-130901.jpg",alt:"understanding-nuxt-2-12-lifecycle-hooks"}}),t._v(" "),a("p",[a("code",[t._v("render(渲染)")]),t._v("之前有几个阶段, 通用全局配置均在"),a("code",[t._v("middleware(中间件)")]),t._v("阶段")]),t._v(" "),a("p",[t._v("那为什么不在"),a("code",[t._v("nuxtServerInit")]),t._v("去做一些处理, 因为这里只能触发"),a("code",[t._v("store")]),t._v("的"),a("code",[t._v("action")])]),t._v(" "),a("h2",{attrs:{id:"nuxt里使用svg图片"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nuxt里使用svg图片"}},[t._v("#")]),t._v(" Nuxt里使用SVG图片")]),t._v(" "),a("p",[a("strong",[t._v("安装依赖")]),t._v("： "),a("code",[t._v("@nuxtjs/svg")])]),t._v(" "),a("p",[a("strong",[t._v("配置nuxt.js")]),t._v(":")]),t._v(" "),a("p",[a("img",{attrs:{src:"2020-05-26-081219.png",alt:"image-20200526161218858"}})]),t._v(" "),a("p",[t._v("引入svg图片，类型为raw，这样svg图片会被认为是html代码处理。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" HBLogo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/assets/Huobi.svg?raw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Investors"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    \n      imgList"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        HBLogo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("在html里使用svg图片，作为html标签代码")]),t._v(" "),a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("imgDiv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("(item, index) of imgList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-html")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("svg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);